<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.52 plugin-docs plugin-id-default docs-doc-id-learn/beginner/tx-lifecycle">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Transaction Lifecycle | Explore the SDK</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.cosmos.network/img/banner.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.cosmos.network/img/banner.jpg"><meta data-rh="true" property="og:url" content="https://docs.cosmos.network/v0.52/learn/beginner/tx-lifecycle"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.52"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.52"><meta data-rh="true" name="docsearch:version" content="0.52"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.52"><meta data-rh="true" property="og:title" content="Transaction Lifecycle | Explore the SDK"><meta data-rh="true" name="description" content="This document describes the lifecycle of a transaction from creation to committed state changes. Transaction definition is described in a different doc. The transaction is referred to as Tx."><meta data-rh="true" property="og:description" content="This document describes the lifecycle of a transaction from creation to committed state changes. Transaction definition is described in a different doc. The transaction is referred to as Tx."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.cosmos.network/v0.52/learn/beginner/tx-lifecycle"><link data-rh="true" rel="alternate" href="https://docs.cosmos.network/v0.52/learn/beginner/tx-lifecycle" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.cosmos.network/v0.52/learn/beginner/tx-lifecycle" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QLS2QSP47E-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Explore the SDK" href="/opensearch.xml">


<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51029217-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>



<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="752cab42-f5d6-4af3-9d31-fb0d6e501c4a" data-project-name="Cosmos SDK" data-project-color="#5064FB" data-modal-disclaimer="This is a custom LLM for Interchain with access to Cosmos SDK developer documentation and resources. Please note that answers are generated by an AI so please use your best judgement before implementing." data-modal-image="img/logo-sdk.svg" data-project-logo="img/logo-sdk-white.svg" data-user-analytics-fingerprint-enabled="true" async></script><link rel="stylesheet" href="/assets/css/styles.0425b9d4.css">
<link rel="preload" href="/assets/js/runtime~main.ae6eca12.js" as="script">
<link rel="preload" href="/assets/js/main.5e40e4cd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo-sdk.svg" alt="Cosmos SDK Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-sdk.svg" alt="Cosmos SDK Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cosmos SDK</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/v0.52/learn">Learn</a><a class="navbar__item navbar__link" href="/v0.52/build/building-modules/intro">Build</a><a class="navbar__item navbar__link" href="/v0.52/user">User Guides</a><a class="navbar__item navbar__link" href="/v0.52/tutorials/vote-extensions/auction-frontrunning/getting-started">Tutorials</a><a class="navbar__item navbar__link" href="/api">REST API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cosmos/cosmos-sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="github-icon">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.300049C5.4 0.300049 0 5.70005 0 12.3001C0 17.6001 3.4 22.1001 8.2 23.7001C8.8 23.8001 9 23.4001 9 23.1001C9 22.8001 9 22.1001 9 21.1001C5.7 21.8001 5 19.5001 5 19.5001C4.5 18.1001 3.7 17.7001 3.7 17.7001C2.5 17.0001 3.7 17.0001 3.7 17.0001C4.9 17.1001 5.5 18.2001 5.5 18.2001C6.6 20.0001 8.3 19.5001 9 19.2001C9.1 18.4001 9.4 17.9001 9.8 17.6001C7.1 17.3001 4.3 16.3001 4.3 11.7001C4.3 10.4001 4.8 9.30005 5.5 8.50005C5.5 8.10005 5 6.90005 5.7 5.30005C5.7 5.30005 6.7 5.00005 9 6.50005C10 6.20005 11 6.10005 12 6.10005C13 6.10005 14 6.20005 15 6.50005C17.3 4.90005 18.3 5.30005 18.3 5.30005C19 7.00005 18.5 8.20005 18.4 8.50005C19.2 9.30005 19.6 10.4001 19.6 11.7001C19.6 16.3001 16.8 17.3001 14.1 17.6001C14.5 18.0001 14.9 18.7001 14.9 19.8001C14.9 21.4001 14.9 22.7001 14.9 23.1001C14.9 23.4001 15.1 23.8001 15.7 23.7001C20.5 22.1001 23.9 17.6001 23.9 12.3001C24 5.70005 18.6 0.300049 12 0.300049Z" fill="currentColor"/>
            </svg>
            </a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/v0.52/learn">v0.52</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/main/learn/beginner/tx-lifecycle">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v0.52/learn/beginner/tx-lifecycle">v0.52</a></li><li><a class="dropdown__link" href="/v0.50/learn/beginner/tx-lifecycle">v0.50</a></li><li><a class="dropdown__link" href="/v0.47/learn/beginner/tx-lifecycle">v0.47</a></li><li><a href="https://docs.cosmos.network/v0.46/" target="_self" rel="noopener noreferrer" class="dropdown__link">v0.46<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs.cosmos.network/v0.45/" target="_self" rel="noopener noreferrer" class="dropdown__link">v0.45<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v0.52/learn">Learn</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v0.52/learn/intro/overview">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/v0.52/learn/beginner/app-anatomy">Beginner</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.52/learn/beginner/app-anatomy">Anatomy of a Cosmos SDK Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v0.52/learn/beginner/tx-lifecycle">Transaction Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.52/learn/beginner/query-lifecycle">Query Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.52/learn/beginner/accounts">Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.52/learn/beginner/gas-fees">Gas and Fees</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v0.52/learn/advanced/baseapp">Advanced</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Beginner</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Transaction Lifecycle</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v0.52</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Transaction Lifecycle</h1><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Synopsis</div><div class="admonitionContent_S0QG"><p>This document describes the lifecycle of a transaction from creation to committed state changes. Transaction definition is described in a <a href="/v0.52/learn/advanced/transactions">different doc</a>. The transaction is referred to as <code>Tx</code>.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Pre-requisite Readings</div><div class="admonitionContent_S0QG"><ul><li><a href="/v0.52/learn/beginner/app-anatomy">Anatomy of a Cosmos SDK Application</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-creation">Transaction Creation<a href="#transaction-creation" class="hash-link" aria-label="Direct link to Transaction Creation" title="Direct link to Transaction Creation">​</a></h2><p>One of the main application interfaces is the command-line interface. The transaction <code>Tx</code> can be created by the user inputting a command in the following format from the <a href="/v0.52/learn/advanced/cli">command-line</a>, providing the type of transaction in <code>[command]</code>, arguments in <code>[args]</code>, and configurations such as gas prices in <code>[flags]</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">appname</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> tx </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command automatically <strong>creates</strong> the transaction, <strong>signs</strong> it using the account&#x27;s private key, and <strong>broadcasts</strong> it to the specified peer node.</p><p>There are several required and optional flags for transaction creation. The <code>--from</code> flag specifies which <a href="/v0.52/learn/beginner/accounts">account</a> the transaction is originating from. For example, if the transaction is sending coins, the funds are drawn from the specified <code>from</code> address.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gas-and-fees">Gas and Fees<a href="#gas-and-fees" class="hash-link" aria-label="Direct link to Gas and Fees" title="Direct link to Gas and Fees">​</a></h3><p>Additionally, there are several <a href="/v0.52/learn/advanced/cli">flags</a> users can use to indicate how much they are willing to pay in <a href="/v0.52/learn/beginner/gas-fees">fees</a>:</p><ul><li><code>--gas</code> refers to how much <a href="/v0.52/learn/beginner/gas-fees">gas</a>, which represents computational resources, <code>Tx</code> consumes. Gas is dependent on the transaction and is not precisely calculated until execution, but can be estimated by providing <code>auto</code> as the value for <code>--gas</code>.</li><li><code>--gas-adjustment</code> (optional) can be used to scale <code>gas</code> up in order to avoid underestimating. For example, users can specify their gas adjustment as 1.5 to use 1.5 times the estimated gas.</li><li><code>--gas-prices</code> specifies how much the user is willing to pay per unit of gas, which can be one or multiple denominations of tokens. For example, <code>--gas-prices=0.025uatom, 0.025upho</code> means the user is willing to pay 0.025uatom AND 0.025upho per unit of gas.</li><li><code>--fees</code> specifies how much in fees the user is willing to pay in total.</li><li><code>--timeout-timestamp</code> specifies a block timeout timestamp to prevent the tx from being committed past a certain time.</li></ul><p>The ultimate value of the fees paid is equal to the gas multiplied by the gas prices. In other words, <code>fees = ceil(gas * gasPrices)</code>. Thus, since fees can be calculated using gas prices and vice versa, the users specify only one of the two.</p><p>Later, validators decide whether or not to include the transaction in their block by comparing the given or calculated <code>gas-prices</code> to their local <code>min-gas-prices</code>. <code>Tx</code> is rejected if its <code>gas-prices</code> is not high enough, so users are incentivized to pay more.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cli-example">CLI Example<a href="#cli-example" class="hash-link" aria-label="Direct link to CLI Example" title="Direct link to CLI Example">​</a></h3><p>Users of the application <code>app</code> can enter the following command into their CLI to generate a transaction to send 1000uatom from a <code>senderAddress</code> to a <code>recipientAddress</code>. The command specifies how much gas they are willing to pay: an automatic estimate scaled up by 1.5 times, with a gas price of 0.025uatom per unit gas.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">appd tx send </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">recipientAddress</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> 1000uatom --from </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">senderAddress</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --gas auto --gas-adjustment </span><span class="token number" style="color:#36acaa">1.5</span><span class="token plain"> --gas-prices </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.025uatom</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-transaction-creation-methods">Other Transaction Creation Methods<a href="#other-transaction-creation-methods" class="hash-link" aria-label="Direct link to Other Transaction Creation Methods" title="Direct link to Other Transaction Creation Methods">​</a></h3><p>The command-line is an easy way to interact with an application, but <code>Tx</code> can also be created using a <a href="/v0.52/learn/advanced/grpc_rest">gRPC or REST interface</a> or some other entry point defined by the application developer. From the user&#x27;s perspective, the interaction depends on the web interface or wallet they are using (e.g. creating <code>Tx</code> using <a href="https://www.keplr.app/" target="_blank" rel="noopener noreferrer">Keplr</a> and signing it with any <a href="https://www.ledger.com/" target="_blank" rel="noopener noreferrer">Ledger device</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-broadcasting">Transaction Broadcasting<a href="#transaction-broadcasting" class="hash-link" aria-label="Direct link to Transaction Broadcasting" title="Direct link to Transaction Broadcasting">​</a></h2><p>This is the next phase, where a transaction is sent from a client (such as a wallet or a command-line interface) to the network of nodes. This process is consensus-agnostic, meaning it can work with various consensus engines.</p><p>Below are the steps involved in transaction broadcasting:</p><ol><li><p><strong>Transaction Creation and Signing:</strong>
Transactions are created and signed using the client&#x27;s private key to ensure authenticity and integrity.</p></li><li><p><strong>Broadcasting to the Network:</strong>
The signed transaction is sent to the network. This is handled by the <code>BroadcastTx</code> function in the client context.</p></li><li><p><strong>Network Propagation:</strong>
Once received by a node, the transaction is propagated to other nodes in the network. This ensures that all nodes have a copy of the transaction.</p></li><li><p><strong>Consensus Engine Interaction:</strong>
The specific method of broadcasting may vary depending on the consensus engine used. The SDK&#x27;s design allows for easy integration with any consensus engine by configuring the <code>clientCtx</code> appropriately.</p></li></ol><p>The function <code>BroadcastTx</code> in <code>client/tx/tx.go</code> demonstrates how a transaction is prepared, signed, and broadcasted. Here&#x27;s the relevant part of the function that handles the broadcasting:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> clientCtx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">BroadcastTx</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">txBytes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> err</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Configuration:</strong></p><p>To adapt this function for different consensus engines, ensure that the <code>clientCtx</code> is configured with the correct network settings and transaction handling mechanisms for your chosen engine. This might involve setting up specific encoders, decoders, and network endpoints that are compatible with the engine.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-processing">Transaction Processing<a href="#transaction-processing" class="hash-link" aria-label="Direct link to Transaction Processing" title="Direct link to Transaction Processing">​</a></h2><p>After a transaction is broadcasted to the network, it undergoes several processing steps to ensure its validity. These steps are managed by the application&#x27;s core transaction processing layer, which is responsible for handling transactions. Within the SDK, this core layer is wrapped with a runtime layer defined in <code>runtime/app.go</code>. This layer extends the core functionality with additional features to handle transactions, allowing for more flexibility and customization, such as the ability to swap out different consensus engines. The key steps in transaction processing are:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="decoding">Decoding<a href="#decoding" class="hash-link" aria-label="Direct link to Decoding" title="Direct link to Decoding">​</a></h3><p>The transaction is decoded from its binary format into a structured format that the application can understand.</p><ul><li><strong>During Transaction Processing:</strong> Transactions are received in the encoded <code>[]byte</code> form. Nodes first unmarshal the transaction using the configuration defined in the app, then proceed to execute the transaction, which includes state changes.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="routing">Routing<a href="#routing" class="hash-link" aria-label="Direct link to Routing" title="Direct link to Routing">​</a></h3><p>How Routing Works:
The transaction is routed to the appropriate module based on the message type. Each message type is associated with a specific module, which is responsible for processing the message. The core transaction processing layer uses a <code>MsgServiceRouter</code> to direct the transaction to the correct module.</p><ol><li><strong>Transaction Type Identification:</strong>
Each transaction contains one or more messages (<code>sdk.Msg</code>), and each message has a <code>Type()</code> method that identifies its type. This type is used to determine the appropriate module to handle the message.</li><li><strong>Module Routing:</strong>
The core transaction processing layer holds a <code>MsgServiceRouter</code> which maps each message type to a specific module&#x27;s handler. When a transaction is processed, this router is used to direct the message to the correct module.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-of-routing">Example of Routing<a href="#example-of-routing" class="hash-link" aria-label="Direct link to Example of Routing" title="Direct link to Example of Routing">​</a></h3><p>Let&#x27;s say there is a transaction that involves transferring tokens. The message type might be <code>MsgSend</code>, and the <code>MsgServiceRouter</code> in <code>BaseApp</code> would route this message to the bank module&#x27;s handler. The bank module would then validate the transaction details (like sender balance) and update the state to reflect the transfer if valid...</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="validation">Validation<a href="#validation" class="hash-link" aria-label="Direct link to Validation" title="Direct link to Validation">​</a></h3><p>Preliminary checks are performed. These include signature verification to ensure the transaction hasn&#x27;t been tampered with and checking if the transaction meets the minimum fee requirements, which is handled by the <code>AnteHandler</code>. The <code>AnteHandler</code> is invoked during the <code>runTx</code> method in <code>BaseApp</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-transaction-checks">Types of Transaction Checks<a href="#types-of-transaction-checks" class="hash-link" aria-label="Direct link to Types of Transaction Checks" title="Direct link to Types of Transaction Checks">​</a></h4><p>During the transaction lifecycle, full-nodes perform a series of checks to validate transactions before they are finalized in a block. These checks are categorized into stateless and stateful checks.</p><p><strong>Stateless Checks</strong>:
Stateless checks are validations that do not require access to the state of the blockchain. They are computationally inexpensive and can be performed by light clients or offline nodes. Examples include:</p><ul><li>Ensuring addresses are not empty.</li><li>Enforcing nonnegative values for transaction fields.</li><li>Validating the format of the data in the transaction.</li></ul><p><strong>Stateful Checks</strong>:
Stateful checks involve validating transactions against the current committed state of the blockchain. These checks are more computationally intensive as they require access to the state. Examples include:</p><ul><li>Verifying that the account has sufficient funds.</li><li>Checking that the sender has the necessary permissions for the transaction.</li><li>Ensuring that the transaction does not result in any state conflicts.</li></ul><p>Full-nodes use these checks during the validation process to quickly reject invalid transactions, minimizing wasted computational resources. Further validation occurs during the transaction execution phase, where transactions are fully executed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="validatebasic-deprecated">ValidateBasic (deprecated)<a href="#validatebasic-deprecated" class="hash-link" aria-label="Direct link to ValidateBasic (deprecated)" title="Direct link to ValidateBasic (deprecated)">​</a></h4><ul><li>Messages (<a href="/v0.52/learn/advanced/transactions#messages"><code>sdk.Msg</code></a>) are extracted from transactions (<code>Tx</code>). The <code>ValidateBasic</code> method of the <code>sdk.Msg</code> interface implemented by the module developer is run for each transaction.</li><li>To discard obviously invalid messages, the <code>BaseApp</code> type calls the <code>ValidateBasic</code> method very early in the processing of the message in the <a href="/v0.52/learn/advanced/baseapp#checktx"><code>CheckTx</code></a> and <code>DeliverTx</code> transactions.
<code>ValidateBasic</code> can include only <strong>stateless</strong> checks (the checks that do not require access to the state). </li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>The <code>ValidateBasic</code> method on messages has been deprecated in favor of validating messages directly in their respective <a href="/v0.52/build/building-modules/msg-services#validation"><code>Msg</code> services</a>.</p><p>Read <a href="https://docs.cosmos.network/main/rfc/rfc-001-tx-validation" target="_blank" rel="noopener noreferrer">RFC 001</a> for more details.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="discard-or-addition-to-mempool">Discard or Addition to Mempool<a href="#discard-or-addition-to-mempool" class="hash-link" aria-label="Direct link to Discard or Addition to Mempool" title="Direct link to Discard or Addition to Mempool">​</a></h3><p>If at any point during the initial transaction validation the transaction (<code>Tx</code>) fails, it is discarded, and the transaction lifecycle ends there. Otherwise, if it passes this preliminary check successfully, the general protocol is to relay it to peer nodes and add it to the node&#x27;s transaction pool (often referred to as the mempool). This makes the <code>Tx</code> a candidate for inclusion in the next block, pending further consensus processes.</p><p>The <strong>app-side mempool</strong>, serves the purpose of keeping track of transactions seen by all full-nodes. Full-nodes maintain a <strong>mempool cache</strong> of the last <code>mempool.cache_size</code> transactions they have seen, serving as a first line of defense to prevent replay attacks. Ideally, <code>mempool.cache_size</code> should be large enough to encompass all transactions in the full mempool. If the mempool cache is too small to track all transactions, the initial transaction validation process is responsible for identifying and rejecting replayed transactions.</p><p>Currently existing preventative measures include fees and a <code>sequence</code> (nonce) counter to distinguish replayed transactions from identical but valid ones. If an attacker tries to spam nodes with many copies of a <code>Tx</code>, full-nodes maintaining a transaction cache reject all identical copies. Even if the copies have incremented sequence numbers, attackers are disincentivized by the need to pay fees.</p><p>Validator nodes maintain a transaction pool to prevent replay attacks, similar to full-nodes, but also use it to hold unconfirmed transactions in preparation for block inclusion. It&#x27;s important to note that even if a <code>Tx</code> passes all preliminary checks, it can still be found invalid later on, as these initial checks do not fully execute the transaction&#x27;s logic.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="module-execution">Module Execution<a href="#module-execution" class="hash-link" aria-label="Direct link to Module Execution" title="Direct link to Module Execution">​</a></h3><p>After the transaction has been appropriately routed to the correct module by the <code>MsgServiceRouter</code> and passed all necessary validations, the execution phase begins:</p><ul><li><strong>Handler Activation</strong>: Each module&#x27;s handler processes the routed message, applying the necessary business logic such as updating account balances or transferring tokens.</li><li><strong>State Changes</strong>: Handlers may modify the state as required by the business logic, which could involve writing to the module&#x27;s portion of the state store. This can be seen in the next subsection.</li><li><strong>Event Emission and Logging</strong>: During execution, modules can emit events and log information, which are crucial for monitoring and querying transaction outcomes.</li></ul><p>For messages that adhere to older standards or specific formats, a routing function retrieves the route name from the message, identifying the corresponding module. The message is then processed by the designated handler within that module, ensuring accurate and consistent application of the transaction&#x27;s logic.</p><ol><li><p>During the execution, the module&#x27;s handler will modify the state as required by the business logic. This could involve writing to the module&#x27;s portion of the state store.</p></li><li><p>Modules can emit events and log information during execution, which are used for monitoring and querying transaction outcomes.</p></li></ol><p>During the module execution phase, each message that has been routed to the appropriate module is processed according to the module-specific business logic. For example, the <code>handleMsgSend</code> function in the bank module processes <code>MsgSend</code> messages by checking balances, transferring tokens, and emitting events:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleMsgSend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> keeper BankKeeper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg MsgSend</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> keeper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetBalance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Sender</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Amount </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Amount </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sdkerrors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Wrap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sdkerrors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ErrInsufficientFunds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sender does not have enough tokens&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    keeper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SendCoins</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Sender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Receiver</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Amount</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">EventManager</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">EmitEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;transfer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewAttribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;from&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Sender</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewAttribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;to&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Receiver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewAttribute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Amount</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This function exemplifies how a module&#x27;s handler executes the transaction logic, modifies the state, and logs the transaction events, which are essential aspects of module execution.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-changes-during-consensus">State Changes During Consensus<a href="#state-changes-during-consensus" class="hash-link" aria-label="Direct link to State Changes During Consensus" title="Direct link to State Changes During Consensus">​</a></h3><p>Before finalizing the transactions within a block, full-nodes perform a second round of checks using <code>validateBasicMsgs</code> and <code>AnteHandler</code>. This is crucial to ensure that all transactions are valid, especially since a malicious proposer might include invalid transactions. Unlike the checks during the transaction addition to the Mempool, the <code>AnteHandler</code> in this phase does not compare the transaction&#x27;s <code>gas-prices</code> to the node&#x27;s <code>min-gas-prices</code>. This is because <code>min-gas-prices</code> can vary between nodes, and using them here would lead to nondeterministic results across the network.</p><ul><li><p>After module execution, the transactions are included in a block proposal by the proposer.</p></li><li><p>All full-nodes that receive this block proposal execute the transactions to ensure that the state changes are applied consistently across all nodes, maintaining the deterministic nature of the blockchain. This includes the execution of initial, transaction-specific, and finalizing operations.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="inclusion-in-a-block">Inclusion in a Block<a href="#inclusion-in-a-block" class="hash-link" aria-label="Direct link to Inclusion in a Block" title="Direct link to Inclusion in a Block">​</a></h2><p>Consensus is the process through which nodes in a blockchain network agree on which transactions to include in the blockchain. This process typically occurs in rounds, starting with a designated node (often called a proposer) compiling a block from transactions in its transaction pool (mempool). The block is then proposed to other nodes (validators) in the network.</p><p>Each validator independently verifies the proposed block against the blockchain&#x27;s rules. If the block is accepted by a sufficient number of validators according to the network&#x27;s consensus rules, it is added to the blockchain. If not, the process may repeat, potentially with a different proposer or even resulting in a block that contains no transactions (a nil block).</p><p>The specific mechanisms of choosing a proposer, the criteria for a valid block, and the method of achieving agreement among validators can vary depending on the consensus algorithm used by the blockchain.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="post-transaction-handling">Post-Transaction Handling<a href="#post-transaction-handling" class="hash-link" aria-label="Direct link to Post-Transaction Handling" title="Direct link to Post-Transaction Handling">​</a></h2><p>After execution, any additional actions that need to be taken are processed. This could include updating logs, sending events, or handling errors.</p><p>These steps are managed by <code>BaseApp</code> in the Cosmos SDK, which routes transactions to the appropriate handlers and manages state transitions.</p><p>After a transaction is executed in the Cosmos SDK, several steps are taken to finalise the process:</p><ol><li><p>Event Emission: Modules emit events that can be used for logging, monitoring, or triggering other workflows. These events are collected during the transaction execution.</p></li><li><p>Logging: Information about the transaction execution, such as success or failure, and any significant state changes, are logged for audit and diagnostic purposes.</p></li><li><p>Error Handling: If any errors occur during transaction execution, they are handled appropriately, which may include rolling back certain operations to maintain state consistency.</p></li><li><p>State Commitment: Changes made to the state during the transaction are finalised and written to the blockchain. This step is crucial as it ensures that all state transitions are permanently recorded.</p></li><li><p>PostHandlers: After the execution of the message, <code>PostHandlers</code> are run. If they fail, the state changes made during <code>runMsgs</code> and by the <code>PostHandlers</code> themselves are both reverted. This ensures that only successful transactions affect the state.</p></li></ol><p>After post-transaction handling, the exact sequence of the transaction lifecycle is dependent on the consensus mechanism used. This includes how transactions are grouped into blocks, how blocks are validated, and how consensus is achieved among validators to commit the block to the blockchain. Each consensus protocol may implement these steps differently to ensure network agreement and maintain the integrity of the blockchain state.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="learn-more">Learn More<a href="#learn-more" class="hash-link" aria-label="Direct link to Learn More" title="Direct link to Learn More">​</a></h2><p>For a deeper dive into the underlying mechanisms of transaction processing and block commitment in the Cosmos SDK, consider exploring the <a href="/v0.52/learn/advanced/baseapp">BaseApp documentation</a>. This advanced documentation provides detailed insights into the internal workings and state management of the Cosmos SDK.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v0.52/learn/beginner/app-anatomy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Anatomy of a Cosmos SDK Application</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v0.52/learn/beginner/query-lifecycle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Query Lifecycle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#transaction-creation" class="table-of-contents__link toc-highlight">Transaction Creation</a><ul><li><a href="#gas-and-fees" class="table-of-contents__link toc-highlight">Gas and Fees</a></li><li><a href="#cli-example" class="table-of-contents__link toc-highlight">CLI Example</a></li><li><a href="#other-transaction-creation-methods" class="table-of-contents__link toc-highlight">Other Transaction Creation Methods</a></li></ul></li><li><a href="#transaction-broadcasting" class="table-of-contents__link toc-highlight">Transaction Broadcasting</a></li><li><a href="#transaction-processing" class="table-of-contents__link toc-highlight">Transaction Processing</a><ul><li><a href="#decoding" class="table-of-contents__link toc-highlight">Decoding</a></li><li><a href="#routing" class="table-of-contents__link toc-highlight">Routing</a></li><li><a href="#example-of-routing" class="table-of-contents__link toc-highlight">Example of Routing</a></li><li><a href="#validation" class="table-of-contents__link toc-highlight">Validation</a></li><li><a href="#discard-or-addition-to-mempool" class="table-of-contents__link toc-highlight">Discard or Addition to Mempool</a></li><li><a href="#module-execution" class="table-of-contents__link toc-highlight">Module Execution</a></li><li><a href="#state-changes-during-consensus" class="table-of-contents__link toc-highlight">State Changes During Consensus</a></li></ul></li><li><a href="#inclusion-in-a-block" class="table-of-contents__link toc-highlight">Inclusion in a Block</a></li><li><a href="#post-transaction-handling" class="table-of-contents__link toc-highlight">Post-Transaction Handling</a></li><li><a href="#learn-more" class="table-of-contents__link toc-highlight">Learn More</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cosmos.network"><img src="/img/logo-bw.svg" alt="Cosmos Logo"></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://hub.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.cometbft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">CometBFT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ibc.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBC Go<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/api">REST API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/interchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://reddit.com/r/cosmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/interchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/cosmos_sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/CosmosProject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/cosmosproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p>The development of the Cosmos SDK is led primarily by <a href="https://interchain.io/ecosystem">Interchain Core Teams</a>. Funding for this development comes primarily from the Interchain Foundation, a Swiss non-profit.</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.ae6eca12.js"></script>
<script src="/assets/js/main.5e40e4cd.js"></script>
</body>
</html>